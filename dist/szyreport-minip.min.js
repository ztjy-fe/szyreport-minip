!function(a,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["szyreport-minip"]=t():a["szyreport-minip"]=t()}("undefined"!=typeof self?self:this,function(){return function(a){function t(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return a[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var e={};return t.m=a,t.c=e,t.d=function(a,e,r){t.o(a,e)||Object.defineProperty(a,e,{configurable:!1,enumerable:!0,get:r})},t.n=function(a){var e=a&&a.__esModule?function(){return a.default}:function(){return a};return t.d(e,"a",e),e},t.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)},t.p="",t(t.s=0)}([function(a,t,e){var r=e(1),n=null,o=function(a){var t=a||{};n||(n=t.data.platf?r.defaultParams(t.data.platf):r.defaultParams());var e=Object.assign({},n,t.data);f({prefix:t.prefix,data:e,sdo_bfn:"sdo_bfn_pv"})},c=function(a){var t=a||{};n||(n=t.data.platf?r.defaultParams(t.data.platf):r.defaultParams());var e=Object.assign({},n,t.data),o={prefix:t.prefix,data:e,sdo_bfn:"sdo_bfn_event"};t.callback&&(o.callback=t.callback),f(o)},s=function(a){var t=a||{};n||(n=t.data.platf?r.defaultParams(t.data.platf):r.defaultParams());var e=Object.assign({},n,t.data);f({prefix:t.prefix,data:e,sdo_bfn:"error"})},l=function(a){var t=a||{};n||(n=t.data.platf?r.defaultParams(t.data.platf):r.defaultParams());var e=Object.assign({},n,t.data),o={prefix:t.prefix,data:e,sdo_bfn:"sdo_bfn_startup"};t.callback&&(o.callback=t.callback),f(o)},f=function(a){var t=a||{},e=r.getUrl(t.prefix,t.sdo_bfn);32===t.data.platf?my.request({method:"get",url:e.aliyunUrl,data:t.data,success:function(a){t.callback?t.callback("success"):console.log("success")},fail:function(){t.callback?t.callback("fail"):console.log("fail")}}):wx.request({method:"get",url:e.aliyunUrl,data:t.data,success:function(a){t.callback?t.callback("success"):console.log("success")},fail:function(){t.callback?t.callback("fail"):console.log("fail")}})};a.exports={reportPV:o,reportEvent:c,reportError:s,reportStartup:l}},function(a,t){var e=function(a){var t=32===a?my.getStorageSync("userDevId"):wx.getStorageSync("userDevId");return t||(t=r(),32===a?my.setStorageSync("userDevId",t):wx.setStorageSync("userDevId",t)),t},r=function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==t?e:7&e|8).toString(16)})},n=function(a){var t=32===a?my.getSystemInfoSync():wx.getSystemInfoSync(),e=0,r=t.system;return r.indexOf("Android")>-1?e=1:r.indexOf("iOS")>-1?e=2:r.indexOf("Windows")>-1?e=3:r.indexOf("macOS")>-1&&(e=4),{os:e,osVer:r,mtype:t.model}},o=function(a){var t=e(a),r=n(a);return{platf:31,dev_id:t,imei:"",mac:"",adid:"",mtype:r.mtype,app_ver:"",app_gid:"",login_status:"0",role:"",user_id:"",baby_id:"",student_id:"",school_id:"",adcode:"",pay_state:"",logtime:"",net:"",coordinate:"",ip:"",country:"",province:"",city:"",county:"",os:r.os,os_ver:r.osVer}},c=function(a,t){var e="";switch(a){case"alpha":e="https://ztjy-test.cn-hangzhou.log.aliyuncs.com/logstores/"+t+"/track?APIVersion=0.6.0";break;default:e="https://ztjy.cn-hangzhou.log.aliyuncs.com/logstores/"+t+"/track?APIVersion=0.6.0"}return{aliyunUrl:e}};a.exports={getUrl:c,defaultParams:o}}])});